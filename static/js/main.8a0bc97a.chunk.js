(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,a){e.exports=a(22)},18:function(e,t,a){},20:function(e,t,a){},22:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a(8),s=a(2),i=a(3),c=a(5),o=a(4),u=a(6),l=a(0),m=a.n(l),p=a(9),d=a.n(p),f=(a(16),a(18),a(20),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(o.a)(t).call(this,e))).inputBlur=function(){return a.updateCaretPosition()},a.documentClick=function(e){setTimeout(function(){var t=!1,n=a.state,r=n.input,s=n._input;if(e.path&&e.path.length&&e.path.some(function(e){return!!(e.className&&e.className.length&&e.className.indexOf("keyboard-container")>=0)&&(t=!0,!0)}),t)return!1;if(e.path&&e.path[0]&&("input"===e.path[0].nodeName.toLowerCase()||"textarea"===e.path[0].nodeName.toLowerCase())){if(!r&&s){var i=document.getElementsByName(s);i.length&&a.setState({input:i[0]})}return!1}r&&a.setState({_input:r.name}),a.setState({input:null})},0)},a.keys=[["1","2","3","4","5","6","7","8","9","0","back"],["-","_","(",")","{","}","[","]","|",":",'"'],["<",">",",",".","?","/","+","#","$","%","*"],["q","w","e","r","t","y","u","i","o","p","back"],["a","s","d","f","g","h","j","k","l","enter"],["shift","z","x","c","v","b","n","m","!","?","clear"],["123","@","space",".com",".","123"]],a.alphabet="abcdefghijklmnopqrstuvwxyz",a.state={currentKeys:null,shift:!1,numbers:!1,isMounted:!1,input:null,inputCaretPosition:0,_input:""},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=JSON.parse(JSON.stringify(this.keys)).slice(3);this.setState({currentKeys:t,isMounted:!0,input:this.props.input},function(){e.state.input&&e.setBlur(),document.addEventListener("click",e.documentClick)})}},{key:"componentWillUnmount",value:function(){var e=this.state.input;e&&e.removeEventListener("blur",this.inputBlur),document.removeEventListener("click",this.documentClick)}},{key:"componentWillReceiveProps",value:function(e){var t=this,a=this.props.input,n=e.input;if(!a&&n)return this.setState({input:n},function(){t.setBlur()});a&&n&&n.name&&a.name&&a.name!==n.name&&this.setState({input:n},function(){t.setBlur()})}},{key:"setBlur",value:function(){var e=this.state.input;e&&e.addEventListener("blur",this.inputBlur)}},{key:"keyClick",value:function(e){var t=e&&e.trim();return"shift"===t?this.activateShift():"123"===t?this.activateNumbers():this.updateInputValue(t)}},{key:"activateShift",value:function(){var e=this;this.setState({shift:!this.state.shift},function(){var t=e.state,a=t.shift,n=t.input,r=JSON.parse(JSON.stringify(e.keys)).slice(3),s=e.alphabet.split("");r.forEach(function(e){e.forEach(function(e,t,n){1===e.length&&s.indexOf(e)>-1&&(n[t]=a?e.toUpperCase():e.toLowerCase())})}),e.setState({currentKeys:r},function(){n&&n.focus()})})}},{key:"activateNumbers",value:function(){var e=this;this.setState({numbers:!this.state.numbers,shift:!1},function(){var t=e.state,a=t.numbers,n=t.input,r=JSON.parse(JSON.stringify(e.keys));a?r.splice(3,3):r.splice(0,3),e.setState({currentKeys:r},function(){n&&n.focus()})})}},{key:"updateInputValue",value:function(e){var t=this,a=this.state.input,n=this.state.inputCaretPosition,r=this.props.updateHandler;if(a&&r&&"function"===typeof r){var s=a.value,i=a.name;if("enter"===e){if("textarea"!==a.nodeName.toLocaleLowerCase())return void this.setCaretPosition(a,n);e="\n"}if("space"===e&&(e=" "),"clear"===e)return n=0,this.setState({inputCaretPosition:n},function(){var e=t.state.input;e&&e.focus(),r(i,"")});if(s){var c="",o=n;if(n>=0&&n<=s.length){var u=n++;"back"===e?o>0?(c=s.substr(0,u-1)+s.substr(u),n-=2):n=o:(c=s.substr(0,u)+e+s.substr(u),".com"===e&&(n+=3))}if(c.length)this.setState({inputCaretPosition:n},function(){r(i,c)});else if("back"===e){if(o<=0)return void a.focus();this.setState({inputCaretPosition:n},function(){r(i,"")})}else this.setState({inputCaretPosition:n},function(){r(i,"".concat(i).concat(e))})}else{if("back"===e)return void a.focus();n+=1,".com"===e&&(n+=3),this.setState({inputCaretPosition:n},function(){r(i,e)})}this.setState({inputCaretPosition:n},function(){t.setCaretPosition(a,t.state.inputCaretPosition)})}}},{key:"setCaretPosition",value:function(e,t){if(e){if(e.createTextRange){var a=e.createTextRange();return a.move("character",t),a.select(),!0}return e.selectionStart||0===e.selectionStart?(e.focus(),setTimeout(function(){return e.setSelectionRange(t,t)},0),!0):(e.focus(),!1)}}},{key:"updateCaretPosition",value:function(){var e=this.state.input;if(e){var t=this.getCaretPosition(e);this.setState({inputCaretPosition:t})}}},{key:"getCaretPosition",value:function(e){var t=0;if(document.selection){e.focus();var a=document.selection.createRange();a.moveStart("character",-e.value.length),t=a.text.length}else e&&(e.selectionStart||"0"===e.selectionStart)&&(t=e.selectionStart);return t}},{key:"createKey",value:function(e,t,a){switch(e){case"back":return m.a.createElement("button",{className:"back-key"},"\u232b");case"enter":return m.a.createElement("button",{className:"enter-key"},"\u21b5");case"shift":return m.a.createElement("button",{className:t?"shift":""},"\u21e7");case"space":return m.a.createElement("button",{className:"space-key"}," ");case"clear":return m.a.createElement("button",null,"\u2a02");default:return m.a.createElement("button",null,a&&"123"===e?"ABC":a&&"ABC"===e?"123":e)}}},{key:"render",value:function(){var e=this,t=this.state,a=t.currentKeys,n=t.shift,r=t.numbers;return t.isMounted?m.a.createElement("div",{className:"keyboard-container"},a.map(function(t,a){var s=++a;return m.a.createElement("ul",{className:"row-".concat(s),key:s},t.map(function(t,a){var s=++a;return m.a.createElement("li",{key:"".concat(t.toLowerCase(),"-").concat(s),onClick:function(){return e.keyClick(t)}},e.createKey(t,n,r))}))})):null}}]),t}(l.Component)),h=function(e){function t(){var e,a;Object(s.a)(this,t);for(var i=arguments.length,u=new Array(i),l=0;l<i;l++)u[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(u)))).state={model:{username:"",password:"",phone:"",message:""},currentInputElement:null},a.update=function(e,t){a.setState({model:Object(r.a)({},a.state.model,Object(n.a)({},e,t))})},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.model,n=t.currentInputElement;return m.a.createElement("div",{className:"container-fluid demo-app"},m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-md-12"},m.a.createElement("div",{className:"alert alert-primary text-center"},m.a.createElement("h3",null,"A simple virtual keyboard built with react.")),m.a.createElement("div",{className:"card"},m.a.createElement("h5",{className:"card-header"},"An inline form with full width keyboard"),m.a.createElement("div",{className:"card-body"},m.a.createElement("div",{className:"row h-100 justify-content-center align-items-center"},m.a.createElement("div",{className:"card mb-2"},m.a.createElement("div",{className:"card-body"},m.a.createElement("form",{className:"form-inline"},m.a.createElement("label",{htmlFor:"username",className:"mr-2"},"Username:"),m.a.createElement("input",{type:"text",className:"form-control",id:"username",name:"username",value:a.username,onFocus:function(t){return e.setState({currentInputElement:t.target})},onChange:function(){}}),m.a.createElement("label",{className:"mr-2 ml-3",htmlFor:"password"},"Password:"),m.a.createElement("input",{type:"password",className:"form-control",id:"password",name:"password",value:a.password,onFocus:function(t){return e.setState({currentInputElement:t.target})},onChange:function(e){console.log(e)}}))))),m.a.createElement("div",{className:"row h-100 justify-content-center align-items-center px-2 py-2"},m.a.createElement(f,{updateHandler:this.update,input:n})))))),m.a.createElement("div",{className:"row mt-2"},m.a.createElement("div",{className:"col-md-6"},m.a.createElement("div",{className:"card"},m.a.createElement("h5",{className:"card-header"},"By default numeric keyboard"),m.a.createElement("div",{className:"card-body"},m.a.createElement("div",{className:"row h-100 justify-content-center align-items-center"},m.a.createElement("div",{className:"card mb-2"},m.a.createElement("div",{className:"card-body"},m.a.createElement("form",{className:"form-inline"},m.a.createElement("label",{htmlFor:"phone",className:"mr-2"},"Phone:"),m.a.createElement("input",{type:"text",className:"form-control",id:"phone",name:"phone",value:a.phone,onFocus:function(t){return e.setState({currentInputElement:t.target})},onChange:function(){}}))))),m.a.createElement("div",{className:"row h-100 justify-content-center align-items-center px-2 py-2"},m.a.createElement(f,{updateHandler:this.update,input:n}))))),m.a.createElement("div",{className:"col-md-6"},m.a.createElement("div",{className:"card"},m.a.createElement("h5",{className:"card-header"},"Textarea example"),m.a.createElement("div",{className:"card-body"},m.a.createElement("div",{className:"row h-100 justify-content-center align-items-center"},m.a.createElement("div",{className:"card mb-2"},m.a.createElement("div",{className:"card-body"},m.a.createElement("form",{className:"form-inline"},m.a.createElement("label",{htmlFor:"message",className:"mr-2"},"Message:"),m.a.createElement("textarea",{type:"text",className:"form-control",id:"message",name:"message",value:a.message,onFocus:function(t){return e.setState({currentInputElement:t.target})},onChange:function(){}}))))),m.a.createElement("div",{className:"row h-100 justify-content-center align-items-center px-2 py-2"},m.a.createElement(f,{updateHandler:this.update,input:n})))))))}}]),t}(l.Component);d.a.render(m.a.createElement(h,null),document.getElementById("root"))}},[[10,2,1]]]);
//# sourceMappingURL=main.8a0bc97a.chunk.js.map